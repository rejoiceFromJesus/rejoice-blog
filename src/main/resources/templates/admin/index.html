<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1">
<title>rejoice</title>
<link rel="stylesheet" href="/plugin/layui/css/layui.css">
</head>
<body class="layui-layout-body">
	<div class="layui-layout layui-layout-admin">
		<div class="layui-header">
			<div class="layui-logo">rejoice博客后台</div>
			<!-- 头部区域（可配合layui已有的水平导航） -->
			<ul class="layui-nav layui-layout-left">
				<li class="layui-nav-item"><a href="">控制台</a></li>
				<li class="layui-nav-item"><a href="">商品管理</a></li>
				<li class="layui-nav-item"><a href="">用户</a></li>
				<li class="layui-nav-item"><a href="javascript:;">其它系统</a>
					<dl class="layui-nav-child">
						<dd>
							<a href="">邮件管理</a>
						</dd>
						<dd>
							<a href="">消息管理</a>
						</dd>
						<dd>
							<a href="">授权管理</a>
						</dd>
					</dl></li>
			</ul>
			<ul class="layui-nav layui-layout-right">
				<li class="layui-nav-item"><a href="javascript:;"> <img
						src="http://t.cn/RCzsdCq" class="layui-nav-img"> 贤心
				</a>
					<dl class="layui-nav-child">
						<dd>
							<a href="">基本资料</a>
						</dd>
						<dd>
							<a href="">安全设置</a>
						</dd>
					</dl></li>
				<li class="layui-nav-item"><a href="">退了</a></li>
			</ul>
		</div>

		<div class="layui-side layui-bg-black">
			<div class="layui-side-scroll">
				<!-- 左侧导航区域（可配合layui已有的垂直导航） -->
				<ul class="layui-nav layui-nav-tree">
					<li class="layui-nav-item"><a class="" href="javascript:;">系统管理</a>
						<dl class="layui-nav-child">
							<dd>
								<a href="javascript:;">用户管理</a>
							</dd>
						</dl></li>
					<li class="layui-nav-item layui-nav-itemed"><a
						href="javascript:;">博客管理</a>
						<dl class="layui-nav-child">
							<dd>
								<a url="/page/admin/category.html" href="javascript:;" id='category' class='open-tab'
									data-type="tabAdd">博客分类</a>
							</dd>
							<dd>
								<a href="javascript:;">博客列表</a>
							</dd>
							<dd>
								<a href="javascript:;">评论列表</a>
							</dd>
						</dl></li>
				</ul>
			</div>
		</div>

		<div class="layui-body" style="height:96%;">
			<!-- 内容主体区域 -->
			<div class="layui-tab layui-tab-card"  lay-filter="tab" style="height:98%;margin:0px;"
				lay-allowclose="true">
				<ul class="layui-tab-title">
					<li class="layui-this" lay-id="11">首页</li>
				</ul>
				<div class="layui-tab-content" >
					<div class="layui-tab-item layui-show" >欢迎使用rejoice博客后台管理系统</div>
				</div>
			</div>
		</div>

		<div class="layui-footer" style="height:4%;">
			<!-- 底部固定区域 -->
			© layui.com - 底部固定区域
		</div>
	</div>
	    <script th:src="@{/plugin/jquery.min.js}"></script>
	<script src="/plugin/layui/layui.js"></script>
	<script>
//JavaScript代码区域
layui.use('element', function(){
  var $ = layui.jquery
  ,element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
  
  //触发事件
  var active = {
    tabAdd: function(){
      var $this = this;
      var id = $(this).attr("id")+"-tab";
      var title = $(this).text();
      if (!$(".layui-tab-title li[lay-id='"+id+"']").length > 0 ) { 
    	  
    	   $.get($($this).attr("url")).done(function(data){
    		    //新增一个Tab项
 		      element.tabAdd('tab', {
 		        title: title
 		        ,content:data
 		        //,content: '<iframe data-frameid='+id+'-frame'+' frameborder="0" name="content" scrolling="no" width="100%" src="/page/admin/category.html"></iframe>'
 		        ,id: id //实际使用一般是规定好的id，这里以时间戳模拟下
 		      })
 		     active.tabChange($this);
    	   });
    	 
    	}else{
    		 active.tabChange($this);
    	}
    
     
    }
    ,tabDelete: function(othis){
      //删除指定Tab项
      element.tabDelete('demo', '44'); //删除：“商品管理”
      
      
      othis.addClass('layui-btn-disabled');
    }
    ,tabChange: function(othis){
      //切换到指定Tab项
      element.tabChange('tab',othis.id+"-tab"); //切换
    }
  };
  
  $('.open-tab').on('click', function(){
    var othis = $(this), type = othis.data('type');
    active[type] ? active[type].call(this, othis) : '';
  });
  
  
});
</script>
</body>
</html>
